2025-05-27 20:44:56,265 - faiss.loader - INFO - Loading faiss.
2025-05-27 20:44:56,300 - faiss.loader - INFO - Successfully loaded faiss.
2025-05-27 20:44:56,304 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-05-27 20:44:56,385 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-05-27 20:44:56,385 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-27 20:45:27,240 - base_agent.embedding_agent - ERROR - Error initializing models: (MaxRetryError('HTTPSConnectionPool(host=\'huggingface.co\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x14ae42ad0>: Failed to resolve \'huggingface.co\' ([Errno 8] nodename nor servname provided, or not known)"))'), '(Request ID: 9ed5283a-c671-45db-8e95-ec39a1d89a9b)')
2025-05-27 20:48:18,544 - faiss.loader - INFO - Loading faiss.
2025-05-27 20:48:18,580 - faiss.loader - INFO - Successfully loaded faiss.
2025-05-27 20:48:18,585 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-05-27 20:48:18,638 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-05-27 20:48:18,638 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-27 20:48:23,537 - base_agent.embedding_agent - INFO - Loaded embedding model: all-MiniLM-L6-v2
2025-05-27 20:48:27,148 - base_agent.embedding_agent - INFO - Created new empty vector store
2025-05-27 20:48:27,148 - root - INFO - Agent Status: {'agent_id': 'embedding_agent', 'status': 'idle', 'capabilities': ['create_embeddings', 'process_documents', 'chunk_text', 'update_vector_store', 'get_similar_chunks', 'calculate_freshness_score', 'calculate_relevance_score', 'clean_old_embeddings', 'get_embedding_stats', 'rebuild_index'], 'dependencies': ['sentence_transformers', 'faiss', 'tiktoken'], 'last_execution': None, 'metrics': {'tasks_completed': 0, 'tasks_failed': 0, 'total_execution_time': 0.0, 'last_error': None}, 'config': {'embedding_model': 'all-MiniLM-L6-v2', 'chunk_size': 512, 'chunk_overlap': 50, 'max_tokens': 8192, 'storage_path': './data/embeddings', 'timeout_seconds': 600}}
2025-05-27 20:48:27,148 - root - INFO - 
--- Testing Health Check ---
2025-05-27 20:48:27,148 - root - INFO - Health Check: {'agent_id': 'embedding_agent', 'healthy': True, 'status': 'idle', 'last_execution': None, 'error_rate': 0.0, 'embedding_system': {'model_loaded': True, 'vector_store_loaded': True, 'total_embeddings': 0, 'storage_accessible': True, 'model_name': 'all-MiniLM-L6-v2'}}
2025-05-27 20:48:27,148 - root - INFO - 
--- Testing Document Processing ---
2025-05-27 20:49:46,055 - faiss.loader - INFO - Loading faiss.
2025-05-27 20:49:46,091 - faiss.loader - INFO - Successfully loaded faiss.
2025-05-27 20:49:46,095 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-05-27 20:49:46,115 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-05-27 20:49:46,115 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-27 20:49:50,823 - base_agent.embedding_agent - INFO - Loaded embedding model: all-MiniLM-L6-v2
2025-05-27 20:49:50,956 - base_agent.embedding_agent - INFO - Created new empty vector store
2025-05-27 20:49:50,956 - root - INFO - Agent Status: {'agent_id': 'embedding_agent', 'status': 'idle', 'capabilities': ['create_embeddings', 'process_documents', 'chunk_text', 'update_vector_store', 'get_similar_chunks', 'calculate_freshness_score', 'calculate_relevance_score', 'clean_old_embeddings', 'get_embedding_stats', 'rebuild_index'], 'dependencies': ['sentence_transformers', 'faiss', 'tiktoken'], 'last_execution': None, 'metrics': {'tasks_completed': 0, 'tasks_failed': 0, 'total_execution_time': 0.0, 'last_error': None}, 'config': {'embedding_model': 'all-MiniLM-L6-v2', 'chunk_size': 512, 'chunk_overlap': 50, 'max_tokens': 8192, 'storage_path': './data/embeddings', 'timeout_seconds': 600}}
2025-05-27 20:49:50,956 - root - INFO - 
--- Testing Health Check ---
2025-05-27 20:49:50,956 - root - INFO - Health Check: {'agent_id': 'embedding_agent', 'healthy': True, 'status': 'idle', 'last_execution': None, 'error_rate': 0.0, 'embedding_system': {'model_loaded': True, 'vector_store_loaded': True, 'total_embeddings': 0, 'storage_accessible': True, 'model_name': 'all-MiniLM-L6-v2'}}
2025-05-27 20:49:50,956 - root - INFO - 
--- Testing Document Processing ---
2025-05-27 20:49:51,907 - root - INFO - Processed 3 chunks from 3 documents
2025-05-27 20:49:51,908 - root - INFO - Processing metadata: {'documents_processed': 3, 'chunks_created': 3, 'doc_type': 'mixed', 'source': 'test_source'}
